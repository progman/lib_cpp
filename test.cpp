//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
// 0.0.2
// Alexey Potehin <gnuplanet@gmail.com>, http://www.gnuplanet.ru/doc/cv
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
#include <stdio.h>
#include <string.h>
#include "lib_cpp.h"
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
int get_signal_name()
{
#ifdef SIGINT
	if (strcmp(get_signal_name(SIGINT), "SIGINT") != 0)
	{
		printf("ERROR[get_signal_name()]: step001\n");
		return -1;
	}
#endif
	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
int flip()
{
	char t1[]={ 3 };
	char t2[]={ 3, 2 };
	char t3[]={ 3, 2, 1 };
	char t4[]={ 3, 2, 1, 0 };

	lib_cpp::flip(t1, sizeof(t1));
	if (t1[0] != 3)
	{
		printf("ERROR[flip()]: step001\n");
		return -1;
	}

	lib_cpp::flip(t2, sizeof(t2));
	if
	(
		(t2[0] != 2) ||
		(t2[1] != 3)
	)
	{
		printf("ERROR[flip()]: step002\n");
		return -1;
	}

	lib_cpp::flip(t3, sizeof(t3));
	if
	(
		(t3[0] != 1) ||
		(t3[1] != 2) ||
		(t3[2] != 3)
	)
	{
		printf("ERROR[flip()]: step003\n");
		return -1;
	}

	lib_cpp::flip(t4, sizeof(t4));
	if
	(
		(t4[0] != 0) ||
		(t4[1] != 1) ||
		(t4[2] != 2) ||
		(t4[3] != 3)
	)
	{
		printf("ERROR[flip()]: step004\n");
		return -1;
	}

	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
int main(int argc, char *argv[])
{
	int rc;


	if (argc != 1)
	{
		if
		(
			(strcmp(argv[1], "-h")     == 0) ||
			(strcmp(argv[1], "-help")  == 0) ||
			(strcmp(argv[1], "--help") == 0)
		)
		{
			printf("example: %s\n", argv[0]);
			return 0;
		}
	}


	rc = get_signal_name();
	if (rc == -1) return 1;

	rc = flip();
	if (rc == -1) return 1;


	return 0;
}
//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
