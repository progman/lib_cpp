//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
/**
 * expand sign in value, example: 0xff -> -1, 0xffff -> -1, ...
 * \param[in] value unsign value
 * \return sign value
 */
int64_t libcore::sign_expand(const uint64_t value)
{
	if (value & (uint64_t(-1) << 32)) // 0xffffffff00000000
	{
		return (int64_t)value;
	}

	if (value & (uint64_t(-1) << 16)) // 0xffffffffffff0000
	{
		return (int32_t)value;
	}

	if (value & (uint64_t(-1) << 8))  // 0xffffffffffffff00
	{
		return (int16_t)value;
	}

	return (int8_t)value;
}
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------//
